# ######## Window rules ########

# Uncomment to apply global transparency to all windows:
# windowrulev2 = opacity 0.89 override 0.89 override, class:.*
windowrule {
  name = windowrule-1
  opacity = 0.95 override 0.88 override 1.0 override
  match:class = kitty
}


# Disable blur for xwayland context menus
windowrule {
  name = windowrule-2
  no_blur = on
  match:class = ^()$
  match:title = ^()$
}

# windowrulev2 = noblur, xwayland:1

windowrule {
  name = windowrule-3
  float = on
  match:class = Godot
}

windowrule {
  name = windowrule-4
  float = on
  persistent_size = on
  match:initial_title = Godot
}


# disable title bar for non-floating windows
# windowrule {
#   name = windowrule-5
#   match:plugin = hyprbars:nobar
#   match:float = 0
# }

# windowrule {
#   name = windowrule-6
#   match:plugin = hyprbars:nobar
#   match:title = ^$
# }


windowrule {
  name = windowrule-7
  idle_inhibit = focus
  match:class = gamescope
}



# Floating
windowrule {
  name = windowrule-8
  center = on
  float = on
  match:title = ^(Open File)(.*)$
}

windowrule {
  name = windowrule-9
  center = on
  float = on
  match:title = ^(Select a File)(.*)$
}

windowrule {
  name = windowrule-10
  center = on
  float = on
  size = (monitor_w*0.6) (monitor_h*0.65)
  match:title = ^(Choose wallpaper)(.*)$
}

windowrule {
  name = windowrule-11
  center = on
  float = on
  match:title = ^(Open Folder)(.*)$
}

windowrule {
  name = windowrule-12
  center = on
  float = on
  match:title = ^(Save As)(.*)$
}

windowrule {
  name = windowrule-13
  center = on
  float = on
  match:title = ^(Library)(.*)$
}

windowrule {
  name = windowrule-14
  center = on
  float = on
  match:title = ^(File Upload)(.*)$
}

windowrule {
  name = windowrule-15
  center = on
  float = on
  match:title = ^(.*)(wants to save)$
}

windowrule {
  name = windowrule-16
  center = on
  float = on
  match:title = ^(.*)(wants to open)$
}

windowrule {
  name = windowrule-17
  float = on
  match:class = ^(blueberry\.py)$
}

windowrule {
  name = windowrule-18
  float = on
  match:class = ^(guifetch)$   # FlafyDev/guifetch
}

windowrule {
  name = windowrule-19
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(pavucontrol)$
}

windowrule {
  name = windowrule-20
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(org.pulseaudio.pavucontrol)$
}

windowrule {
  name = windowrule-21
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(nm-connection-editor)$
}

windowrule {
  name = windowrule-22
  float = on
  match:class = .*plasmawindowed.*
}

windowrule {
  name = windowrule-23
  float = on
  match:class = kcm_.*
}

windowrule {
  name = windowrule-24
  float = on
  match:class = .*bluedevilwizard
}

windowrule {
  name = windowrule-25
  float = on
  match:title = .*Welcome
}

windowrule {
  name = windowrule-26
  float = on
  match:title = ^(illogical-impulse Settings)$
}

windowrule {
  name = windowrule-27
  float = on
  match:title = .*Shell conflicts.*
}

windowrule {
  name = windowrule-28
  float = on
  size = (monitor_w*0.6) (monitor_h*0.65)
  match:class = org.freedesktop.impl.portal.desktop.kde
}

windowrule {
  name = windowrule-29
  float = on
  size = (monitor_w*0.45)
  match:class = ^(Zotero)$
}


# Move
# kde-material-you-colors spawns a window when changing dark/light theme. This is to make sure it doesn't interfere at all.
windowrule {
  name = windowrule-30
  float = on
  no_initial_focus = on
  move = (999999) (999999)
  match:class = ^(plasma-changeicons)$
}

# stupid dolphin copy
windowrule {
  name = windowrule-31
  move = (40) (80)
  match:title = ^(Copying â€” Dolphin)$
}


# Tiling
windowrule {
  name = windowrule-32
  tile = on
  match:class = ^dev\.warp\.Warp$
}


# Picture-in-Picture
windowrule {
  name = windowrule-33
  float = on
  keep_aspect_ratio = on
  move = ((monitor_w*0.73)) ((monitor_h*0.72))
  size = (monitor_w*0.25)
  pin = on
  match:title = ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
}


# --- Tearing ---
windowrule {
  name = windowrule-34
  immediate = on
  match:title = .*\.exe
}

windowrule {
  name = windowrule-35
  immediate = on
  match:title = .*minecraft.*
}

windowrule {
  name = windowrule-36
  immediate = on
  match:class = ^(steam_app).*
}


# No shadow for tiled windows (matches windows that are not floating).
windowrule {
  name = windowrule-37
  no_shadow = on
  match:float = 0
}


# ######## Workspace rules ########
workspace = special:special, gapsout:30

# ######## Layer rules ########
# layerrule = xray 1, .*
# layerrule = noanim, .*
# layerrule = noanim, walker
# layerrule = noanim, selection
# layerrule = noanim, overview
# layerrule = noanim, anyrun
# layerrule = noanim, indicator.*
# layerrule = noanim, osk
# layerrule = noanim, hyprpicker

layerrule {
  name = layerrule-1
  no_anim = on
  match:namespace = noanim
}

layerrule {
  name = layerrule-2
  blur = on
  ignore_alpha = 0
  match:namespace = gtk-layer-shell
}

layerrule {
  name = layerrule-3
  blur = on
  ignore_alpha = 0.5
  match:namespace = launcher
}

layerrule {
  name = layerrule-4
  blur = on
  ignore_alpha = 0.69
  match:namespace = notifications
}

layerrule {
  name = layerrule-5
  blur = on
  match:namespace = logout_dialog # wlogout
}


# ags
layerrule {
  name = layerrule-6
  animation = slide left
  match:namespace = sideleft.*
}

layerrule {
  name = layerrule-7
  animation = slide right
  match:namespace = sideright.*
}

layerrule {
  name = layerrule-8
  blur = on
  match:namespace = session[0-9]*
}

layerrule {
  name = layerrule-9
  blur = on
  ignore_alpha = 0.6
  match:namespace = bar[0-9]*
}

layerrule {
  name = layerrule-10
  blur = on
  ignore_alpha = 0.6
  match:namespace = barcorner.*
}

layerrule {
  name = layerrule-11
  blur = on
  ignore_alpha = 0.6
  match:namespace = dock[0-9]*
}

layerrule {
  name = layerrule-12
  blur = on
  ignore_alpha = 0.6
  match:namespace = indicator.*
}

layerrule {
  name = layerrule-13
  blur = on
  ignore_alpha = 0.6
  match:namespace = overview[0-9]*
}

layerrule {
  name = layerrule-14
  blur = on
  ignore_alpha = 0.6
  match:namespace = cheatsheet[0-9]*
}

layerrule {
  name = layerrule-15
  blur = on
  ignore_alpha = 0.6
  match:namespace = sideright[0-9]*
}

layerrule {
  name = layerrule-16
  blur = on
  ignore_alpha = 0.6
  match:namespace = sideleft[0-9]*
}

layerrule {
  name = layerrule-17
  blur = on
  ignore_alpha = 0.6
  match:namespace = osk[0-9]*
}


# Quickshell
layerrule {
  name = layerrule-18
  blur_popups = on
  blur = on
  ignore_alpha = 0.79
  match:namespace = quickshell:.*
}

layerrule {
  name = layerrule-19
  animation = slide
  match:namespace = quickshell:bar
}

layerrule {
  name = layerrule-20
  animation = slide
  match:namespace = quickshell:verticalBar
}

layerrule {
  name = layerrule-21
  animation = popin 120%
  match:namespace = quickshell:screenCorners
}

layerrule {
  name = layerrule-22
  animation = slide right
  match:namespace = quickshell:sidebarRight
}

layerrule {
  name = layerrule-23
  animation = slide left
  match:namespace = quickshell:sidebarLeft
}

layerrule {
  name = layerrule-24
  animation = slide top
  match:namespace = quickshell:wallpaperSelector
}

layerrule {
  name = layerrule-25
  animation = slide bottom
  match:namespace = quickshell:osk
}

layerrule {
  name = layerrule-26
  animation = slide bottom
  match:namespace = quickshell:dock
}

layerrule {
  name = layerrule-27
  animation = slide bottom
  match:namespace = quickshell:cheatsheet
}

layerrule {
  name = layerrule-28
  blur = on
  no_anim = on
  ignore_alpha = 0
  match:namespace = quickshell:session
}

layerrule {
  name = layerrule-29
  animation = fade
  match:namespace = quickshell:notificationPopup
}

layerrule {
  name = layerrule-30
  blur = on
  ignore_alpha = 0.05
  match:namespace = quickshell:backgroundWidgets
}

layerrule {
  name = layerrule-31
  no_anim = on
  match:namespace = quickshell:screenshot
}

layerrule {
  name = layerrule-32
  no_anim = on
  match:namespace = quickshell:lockWindowPusher
}



# Launchers need to be FAST
layerrule {
  name = layerrule-33
  no_anim = on
  match:namespace = quickshell:overview
}

layerrule {
  name = layerrule-34
  no_anim = on
  match:namespace = gtk4-layer-shell
}

## outfoxxed's stuff
layerrule {
  name = layerrule-35
  blur = on
  ignore_alpha = 0
  match:namespace = shell:bar
}

layerrule {
  name = layerrule-36
  blur = on
  ignore_alpha = 0.1
  match:namespace = shell:notifications
}



